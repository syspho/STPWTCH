<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스탑워치</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
        }
        
        body.dark-mode {
            background-color: #1c1c1e;
        }
        
        .stopwatch-container {
            text-align: center;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 320px; /* 컨테이너 너비 고정 */
        }
        
        .display,
        .laps-table th, 
        .laps-table td,
        .stats-table th,
        .stats-table td {
            color: #333;
            font-family: monospace;
        }
        
        .display {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        button {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        #startBtn {
            background-color: #2E7D32; /* 더 진한 녹색 */
            color: white;
        }
        
        #stopBtn {
            background-color: #C62828; /* 더 진한 빨간색 */
            color: white;
        }
        
        #resetBtn {
            background-color: #1565C0; /* 더 진한 파란색 */
            color: white;
        }
        
        #lapBtn {
            background-color: #E65100; /* 더 진한 주황색 */
            color: white;
        }
        
        button:hover {
            opacity: 0.9;
        }
        
        .laps {
            margin-top: 20px;
            max-height: 250px;
            overflow-y: auto;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        /* Chrome, Safari, Opera에서 스크롤바 숨기기 */
        .laps::-webkit-scrollbar {
            display: none;
        }
        
        .laps-table {
            width: 100%;
            border-collapse: collapse;
            margin: 0;
            table-layout: fixed; /* 고정 테이블 레이아웃 사용 */
        }
        
        .laps-table td:first-child {
            width: 80px; /* 첫 번째 열의 너비 절대값으로 고정 */
        }
        
        .laps-table td:last-child {
            width: 160px; /* 두 번째 열의 너비 절대값으로 고정 */
        }
        
        .laps-table th, 
        .laps-table td,
        .stats-table th,
        .stats-table td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
            font-size: 18px;
        }
        
        .laps-table th {
            background-color: #f5f5f5;
            font-weight: bold;
        }
        
        .laps-table tr:nth-child(odd):not(:hover) {
            background-color: #f9f9f9;
        }
        
        /* 컨텍스트 메뉴 스타일 */
        .context-menu {
            position: absolute;
            background-color: white;
            border: 1px solid #ccc;
            box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
            border-radius: 3px;
            padding: 0;
            z-index: 1000;
            font-size: 14px;
            min-width: 80px;
        }
        
        .context-menu-item {
            padding: 5px 8px;
            cursor: pointer;
            list-style-type: none;
            transition: background-color 0.2s;
        }
        
        .context-menu-item:hover {
            background-color: #f0f0f0;
        }
        
        /* 레코드 행 호버 효과 */
        #laps-body tr:not(.lap-row) {
            cursor: context-menu;
        }
        
        #laps-body tr:not(.lap-row):hover {
            background-color: #f5f5f5;
        }
        
        .stats {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px solid #ddd;
        }
        
        .stats-table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
            table-layout: fixed; /* 고정 테이블 레이아웃 사용 */
        }
        
        .stats-table td:first-child {
            width: 80px; /* 첫 번째 열의 너비 절대값으로 고정 - 기록 테이블과 동일 */
        }
        
        .stats-table td:last-child {
            width: 160px; /* 두 번째 열의 너비 절대값으로 고정 - 기록 테이블과 동일 */
        }
        
        .stats-table th, .stats-table td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
            font-size: 18px;
        }
        
        /* 다크모드 스타일 */
        /* 로고 컨테이너 */
        .logo-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 100px;
            height: 100px;
            z-index: 10;
        }
        
        /* 일반 모드 로고 */
        .light-logo {
            display: block;
            width: 100%;
            height: 100%;
            background-image: url('https://www.hufs.ac.kr/sites/hufs/images/sub/simbol_list3.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        /* 다크 모드 로고 */
        .dark-logo {
            display: none;
            width: 100%;
            height: 100%;
            background-image: url('https://www.hufs.ac.kr/sites/hufs/images/sub/simbol_list4.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            filter: brightness(0) saturate(100%) invert(42%) sepia(11%) saturate(1259%) hue-rotate(356deg) brightness(92%) contrast(86%);
            /* 위 필터는 #8D7150 색상으로 만드는 필터 조합입니다 */
        }
        
        /* 다크모드에서 로고 전환 */
        body.dark-mode .light-logo {
            display: none;
        }
        
        body.dark-mode .dark-logo {
            display: block;
        }
        
        body.dark-mode .stopwatch-container {
            background-color: #2c2c2e;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        body.dark-mode .display,
        body.dark-mode .laps-table th, 
        body.dark-mode .laps-table td,
        body.dark-mode .stats-table th,
        body.dark-mode .stats-table td {
            color: rgba(255, 255, 255, 0.85); /* 약간 흐린 흰색 */
        }
        
        body.dark-mode .laps-table th, 
        body.dark-mode .laps-table td,
        body.dark-mode .stats-table th,
        body.dark-mode .stats-table td {
            border-color: #3d3d3f;
        }
        
        body.dark-mode .laps-table th,
        body.dark-mode .stats-table th {
            background-color: #3a3a3c;
            color: #ffffff;
        }
        
        body.dark-mode .laps-table tr:nth-child(odd):not(:hover) {
            background-color: #313133;
        }
        
        body.dark-mode #laps-body tr:not(.lap-row):hover {
            background-color: #3a3a3c;
        }
        
        body.dark-mode .context-menu {
            background-color: #2c2c2e;
            border-color: #3d3d3f;
        }
        
        body.dark-mode .context-menu-item {
            color: #ffffff;
        }
        
        body.dark-mode .context-menu-item:hover {
            background-color: #3a3a3c;
        }
        
        /* 테마 토글 버튼 */
        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: transparent;
            border: none;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .theme-toggle:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }
        
        body.dark-mode .theme-toggle:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .theme-toggle svg {
            width: 24px;
            height: 24px;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .theme-toggle .moon {
            display: none;
        }
        
        body:not(.dark-mode) .theme-toggle .sun {
            display: none;
        }
        
        /* 날짜 카운터 스타일 */
        .date-counter {
            position: absolute;
            top: 20px;
            left: 20px;
            font-family: monospace;
            font-size: 16px;
            font-weight: bold;
            background-color: white;
            padding: 10px 15px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            min-width: 150px;
        }
        
        body.dark-mode .date-counter {
            background-color: #2c2c2e;
            color: white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .schedule-list {
            margin-top: 10px;
            font-size: 14px;
            font-weight: normal;
            line-height: 1.5;
        }
        
        .schedule-item, .main-dday {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
        }
        
        .main-dday {
            border-bottom: 1px solid #ddd;
            padding-bottom: 8px;
            margin-bottom: 8px;
        }
        
        body.dark-mode .main-dday {
            border-bottom-color: #3d3d3f;
        }
        
        .d-day, #days-left {
            font-size: 14px;
            color: #000000;
        }
        
        .d-day {
            color: #666666; /* 서브 디데이 색상을 더 흐리게 */
        }
        
        body.dark-mode .d-day, body.dark-mode #days-left {
            color: #ffffff;
        }
        
        .schedule-item span:first-child {
            color: #666666; /* 서브 디데이 제목 색상을 흐리게 */
        }
        
        .main-dday span:first-child {
            color: inherit; /* 메인 디데이 제목은 원래 색상 유지 */
        }
        
        body.dark-mode .schedule-item span:first-child {
            color: #aaaaaa; /* 다크모드에서 서브 디데이 제목 색상 조정 */
        }
        
        /* 종료된 디데이 스타일 */
        .schedule-item.ended {
            text-decoration: line-through;
            text-decoration-color: #666666; /* 취소선 색상을 서브디데이 색상과 동일하게 */
            opacity: 0.7;
            position: relative;
        }
        
        /* 다크모드에서 취소선 색상 변경 */
        body.dark-mode .schedule-item.ended {
            text-decoration-color: #aaaaaa;
        }
    </style>
</head>
<body>
    <div class="logo-container">
        <div class="light-logo"></div>
        <div class="dark-logo"></div>
    </div>
    <div class="date-counter" id="date-counter">
        <div class="schedule-item main-dday"><span>LEET</span> <span>D-<span id="days-left">0</span></span></div>
        <div class="schedule-list">
            <div class="schedule-item"><span>7회</span> <span class="d-day" data-date="2025-07-13">0</span></div>
            <div class="schedule-item"><span>6회</span> <span class="d-day" data-date="2025-07-06">0</span></div>
            <div class="schedule-item"><span>5회</span> <span class="d-day" data-date="2025-06-22">0</span></div>
            <div class="schedule-item"><span>4회</span> <span class="d-day" data-date="2025-06-08">0</span></div>
            <div class="schedule-item"><span>3회</span> <span class="d-day" data-date="2025-05-18">0</span></div>
            <div class="schedule-item"><span>2회</span> <span class="d-day" data-date="2025-04-20">0</span></div>
            <div class="schedule-item"><span>1회</span> <span class="d-day" data-date="2025-03-23">0</span></div>
        </div>
    </div>
    <button id="theme-toggle" class="theme-toggle" aria-label="테마 변경">
        <svg class="moon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#333333">
            <path d="M12 11.807C10.7418 10.5483 9.88488 8.94484 9.53762 7.1993C9.19037 5.45375 9.36832 3.64444 10.049 2C8.10826 2.38205 6.3256 3.33431 4.92899 4.735C1.02399 8.64 1.02399 14.972 4.92899 18.877C8.83499 22.783 15.166 22.782 19.072 18.877C20.4723 17.4805 21.4245 15.6983 21.807 13.758C20.1625 14.4385 18.3533 14.6164 16.6077 14.2692C14.8622 13.9219 13.2588 13.0651 12 11.807V11.807Z"/>
        </svg>
        <svg class="sun" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#ffffff">
            <path d="M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z"/>
            <path d="M12 1V3M12 21V23M1 12H3M21 12H23M4.22 4.22L5.64 5.64M18.36 18.36L19.78 19.78M4.22 19.78L5.64 18.36M18.36 5.64L19.78 4.22"/>
        </svg>
    </button>
    <div class="stopwatch-container">
        <div class="display" id="display">00:00.00</div>
        <div class="controls">
            <button id="startBtn">시작</button>
            <button id="stopBtn">정지</button>
            <button id="resetBtn">리셋</button>
            <button id="lapBtn">랩</button>
        </div>
        <div class="laps" id="laps">
            <table class="laps-table" id="laps-table">
                <tbody id="laps-body">
                    <!-- 여기에 시행 기록이 추가됩니다 -->
                </tbody>
            </table>
        </div>
        <div class="stats" id="stats">
            <table class="stats-table">
                <tbody>
                    <tr>
                        <td width="30%">누적</td>
                        <td width="70%" id="total-time">00:00.00</td>
                    </tr>
                    <tr>
                        <td>평균</td>
                        <td id="avg-time">00:00.00</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="context-menu" class="context-menu" style="display: none;">
            <ul style="margin: 0; padding: 0;">
                <li class="context-menu-item" id="delete-record">삭제</li>
            </ul>
        </div>
    </div>

    <script>
        // DOM 요소들
        const display = document.getElementById('display');
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const resetBtn = document.getElementById('resetBtn');
        const lapBtn = document.getElementById('lapBtn');
        const lapsContainer = document.getElementById('laps');
        const statsContainer = document.getElementById('stats');
        const contextMenu = document.getElementById('context-menu');
        const deleteRecordBtn = document.getElementById('delete-record');
        
        // 스탑워치 변수들
        let startTime = 0;
        let elapsedTime = 0;
        let timerInterval = null;
        let lapCount = 1;
        let running = false;
        let sessionCount = 1;
        let lastLapTime = 0;
        let totalTimes = [];  // 모든 시행 시간을 저장할 배열
        let selectedRowIndex = -1;  // 현재 선택된 행의 인덱스
        
        // 초기 버튼 상태 설정
        stopBtn.disabled = true;
        lapBtn.disabled = true;
        
        // 시간 포맷팅 함수 - 분을 2자리로 표시 (99분까지)
        function formatTime(timeInMilliseconds) {
            let milliseconds = Math.floor(timeInMilliseconds % 1000);
            let seconds = Math.floor((timeInMilliseconds / 1000) % 60);
            let minutes = Math.floor(timeInMilliseconds / (1000 * 60)) % 100; // 99분까지만 표시 (100분이 되면 00으로 리셋)
            
            // 패딩 추가
            milliseconds = milliseconds.toString().padStart(2, '0').substring(0, 2); // 밀리초를 두 자리로 표시
            seconds = seconds.toString().padStart(2, '0');
            minutes = minutes.toString().padStart(2, '0'); // 분을 두 자리로 표시
            
            return `${minutes}:${seconds}.${milliseconds}`;
        }
        
        // 타이머 업데이트 함수
        function updateTimer() {
            const currentTime = Date.now();
            elapsedTime = currentTime - startTime;
            display.textContent = formatTime(elapsedTime);
        }
        
        // 통계(누적 시간, 평균 시간) 업데이트 함수
        function updateStats() {
            // 총 시간 계산
            const totalTime = totalTimes.reduce((sum, time) => sum + time, 0);
            const totalTimeFormatted = formatTime(totalTime);
            
            // 평균 시간 계산
            const avgTime = totalTimes.length > 0 ? totalTime / totalTimes.length : 0;
            const avgTimeFormatted = formatTime(avgTime);
            
            // 화면에 표시
            document.getElementById('total-time').textContent = totalTimeFormatted;
            document.getElementById('avg-time').textContent = avgTimeFormatted;
        }
        
        // 컨텍스트 메뉴 처리 함수
        function handleContextMenu(e) {
            e.preventDefault();
            
            // 'lap-row' 클래스가 있는 행(랩 타임)은 컨텍스트 메뉴 표시 안함
            if (e.currentTarget.classList.contains('lap-row')) {
                return;
            }
            
            // 선택된 행의 인덱스 저장
            selectedRowIndex = parseInt(e.currentTarget.dataset.index);
            
            // 컨텍스트 메뉴 위치 설정
            contextMenu.style.left = `${e.pageX}px`;
            contextMenu.style.top = `${e.pageY}px`;
            contextMenu.style.display = 'block';
        }
        
        // 선택된 기록 삭제 함수
        function deleteRecord() {
            if (selectedRowIndex >= 0 && selectedRowIndex < totalTimes.length) {
                // 기록 배열에서 해당 항목 제거
                totalTimes.splice(selectedRowIndex, 1);
                
                // 테이블에서 모든 행을 가져옴 (랩 타임 제외)
                const rows = Array.from(document.querySelectorAll('#laps-body tr:not(.lap-row)'));
                
                // 해당 행 찾아 제거
                for (let i = 0; i < rows.length; i++) {
                    if (parseInt(rows[i].dataset.index) === selectedRowIndex) {
                        rows[i].remove();
                        break;
                    }
                }
                
                // 통계 다시 계산
                updateStats();
                
                // 남은 행들의 인덱스 및 번호 재조정
                const remainingRows = Array.from(document.querySelectorAll('#laps-body tr:not(.lap-row)'));
                
                // 번호 순서대로 정렬 (첫 번째 셀의 텍스트 기준)
                remainingRows.sort((a, b) => {
                    const aNum = parseInt(a.cells[0].textContent);
                    const bNum = parseInt(b.cells[0].textContent);
                    return aNum - bNum;
                });
                
                // 번호 재조정
                for (let i = 0; i < remainingRows.length; i++) {
                    const row = remainingRows[i];
                    const rowIndex = parseInt(row.dataset.index);
                    
                    // 인덱스 조정 (삭제한 인덱스보다 큰 인덱스를 가진 행들)
                    if (rowIndex > selectedRowIndex) {
                        row.dataset.index = rowIndex - 1;
                    }
                    
                    // 표시되는 번호 재조정 (모든 행)
                    row.cells[0].textContent = (i + 1).toString();
                }
                
                // 다음 세션 카운터 조정
                sessionCount = remainingRows.length + 1;
            }
            
            // 컨텍스트 메뉴 숨기기
            contextMenu.style.display = 'none';
        }
        
        // 다른 곳 클릭 시 컨텍스트 메뉴 숨기기
        document.addEventListener('click', function() {
            contextMenu.style.display = 'none';
        });
        
        // 삭제 버튼 이벤트 등록
        deleteRecordBtn.addEventListener('click', deleteRecord);
        
        // 시작 버튼 클릭 이벤트
        startBtn.addEventListener('click', () => {
            if (!running) {
                // 항상 새로운 시작 시간 설정
                startTime = Date.now();
                lastLapTime = 0;
                
                timerInterval = setInterval(updateTimer, 10);
                running = true;
                
                // 새로운 시작이므로 elapsedTime 초기화
                if (sessionCount > 1) {
                    elapsedTime = 0;
                    display.textContent = '00:00.00';
                }
                
                startBtn.disabled = true;
                stopBtn.disabled = false;
                lapBtn.disabled = false;
            }
        });
        
        // 정지 버튼 클릭 이벤트
        stopBtn.addEventListener('click', () => {
            if (running) {
                clearInterval(timerInterval);
                running = false;
                
                // 현재 시행 시간 계산
                const currentTime = Date.now();
                const sessionDuration = currentTime - startTime;
                const sessionTime = formatTime(sessionDuration);
                
                // 기록 저장
                totalTimes.push(sessionDuration);
                
                // 시행 시간 기록을 테이블에 추가
                const lapsBody = document.getElementById('laps-body');
                const newRow = document.createElement('tr');
                newRow.innerHTML = `
                    <td>${sessionCount}</td>
                    <td>${sessionTime}</td>
                `;
                // 행에 데이터 속성 추가
                newRow.dataset.index = totalTimes.length - 1;
                // 행에 컨텍스트 메뉴 이벤트 추가
                newRow.addEventListener('contextmenu', handleContextMenu);
                
                lapsBody.insertBefore(newRow, lapsBody.firstChild);
                
                // 통계 업데이트
                updateStats();
                
                // 다음 시행 준비
                sessionCount++;
                
                startBtn.disabled = false;
                stopBtn.disabled = true;
                lapBtn.disabled = true;
            }
        });
        
        // 리셋 버튼 클릭 이벤트
        resetBtn.addEventListener('click', () => {
            clearInterval(timerInterval);
            display.textContent = '00:00.00';
            elapsedTime = 0;
            lapCount = 1;
            lastLapTime = 0;
            sessionCount = 1;
            totalTimes = [];
            document.getElementById('laps-body').innerHTML = '';
            running = false;
            
            // 통계 초기화
            document.getElementById('total-time').textContent = '00:00.00';
            document.getElementById('avg-time').textContent = '00:00.00';
            
            startBtn.disabled = false;
            stopBtn.disabled = true;
            lapBtn.disabled = true;
        });
        
        // 랩 버튼 클릭 이벤트
        lapBtn.addEventListener('click', () => {
            if (running) {
                const currentTime = elapsedTime;
                const lapDuration = currentTime - lastLapTime;
                const totalTime = formatTime(currentTime);
                const lapTime = formatTime(lapDuration);
                
                // 랩 시간을 테이블에 추가
                const lapsBody = document.getElementById('laps-body');
                const newRow = document.createElement('tr');
                newRow.innerHTML = `
                    <td>랩 ${lapCount}</td>
                    <td>${lapTime} (누적: ${totalTime})</td>
                `;
                // 랩 행에는 데이터 인덱스 적용 안함 (삭제 기능 제외)
                newRow.classList.add('lap-row');
                
                lapsBody.insertBefore(newRow, lapsBody.firstChild);
                
                lastLapTime = currentTime;
                lapCount++;
            }
        });

        // 모든 D-day 업데이트 함수
        function updateAllDdays() {
            // 메인 D-day (7월 20일) 업데이트
            updateDaysLeft();
            
            // 모든 일정 D-day 업데이트
            const today = new Date();
            const dDayElements = document.querySelectorAll('.d-day');
            
            dDayElements.forEach(element => {
                const targetDateStr = element.getAttribute('data-date');
                const targetDate = new Date(targetDateStr);
                
                // 남은 일수 계산 (밀리초 -> 일)
                const diffTime = targetDate - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                // 음수인 경우(지난 날짜)와 양수인 경우(미래 날짜) 처리
                if (diffDays < 0) {
                    element.textContent = `종료`;
                    // 부모 요소에 종료 클래스 추가 (취소선 처리용)
                    element.closest('.schedule-item').classList.add('ended');
                } else {
                    element.textContent = `${diffDays}`;
                    // 만약 이전에 종료됐다가 다시 활성화된 경우 클래스 제거
                    element.closest('.schedule-item').classList.remove('ended');
                }
            });
        }
        
        // 페이지 로드 시 모든 D-day 계산
        updateAllDdays();
        
        // 7월 20일까지 남은 날짜 계산
        function updateDaysLeft() {
            const today = new Date();
            const targetDate = new Date(today.getFullYear(), 6, 20); // 7월(6)의 20일
            
            // 이미 지났으면 내년으로 설정
            if (today > targetDate) {
                targetDate.setFullYear(today.getFullYear() + 1);
            }
            
            // 남은 일수 계산 (밀리초 -> 일)
            const diffTime = targetDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            // 화면에 표시
            document.getElementById('days-left').textContent = diffDays;
        }
        
        // 다크모드 토글
        const themeToggle = document.getElementById('theme-toggle');
        
        // 다크모드 설정 변수 (localStorage 대신 변수 사용)
        let isDarkMode = false;
        
        // 테마 토글 이벤트
        themeToggle.addEventListener('click', () => {
            isDarkMode = !isDarkMode;
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
            }
            
            // localStorage 사용 안함 (샌드박스 환경에서 오류 발생)
            // localStorage.setItem('darkMode', isDarkMode);
        });
        
        // 키보드 단축키
        document.addEventListener('keydown', (e) => {
            // 스페이스바: 시작/정지 토글
            if (e.code === 'Space') {
                if (!running) {
                    startBtn.click();
                } else {
                    stopBtn.click();
                }
                e.preventDefault();
            } 
            // R키: 리셋
            else if (e.code === 'KeyR') {
                resetBtn.click();
                e.preventDefault();
            } 
            // L키: 랩 타임 기록
            else if (e.code === 'KeyL' && !lapBtn.disabled) {
                lapBtn.click();
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
